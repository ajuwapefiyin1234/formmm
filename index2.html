<!DOCTYPE html>
<html>
<head>
<title>Login</title>
<style>
body {
    font-family:sans-serif;
    background:linear-gradient(135deg,#6a11cb,#2575fc);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
}
.card {
    background:white;
    padding:2rem;
    border-radius:10px;
    width:350px;
    text-align:center;
}
input, button {
    width:90%;
    padding:10px;
    margin:8px 0;
}
button {
    background:#6a11cb;
    color:white;
    border:none;
    cursor:pointer;
}
button:hover {
    background:#2575fc;
}
.error { color:red; }
</style>
</head>
<body>

<div class="card">
<h2>Login</h2>

<p id="error-message" class="error" style="display:none;"></p>

<form id="login-form">
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button type="submit">Login</button>
</form>
</div>

<script>
    const savedUsername = localStorage.getItem('saved_user');
    const savedPassword = localStorage.getItem('saved_pass');

    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const errorMessageElement = document.getElementById('error-message');

    if (savedUsername) {
        usernameInput.value = savedUsername;
    }

    function showErrorMessage(message) {
        errorMessageElement.innerText = message;
        errorMessageElement.style.display = 'block';
    }

    function hideErrorMessage() {
        errorMessageElement.style.display = 'none';
    }

    document.getElementById('login-form').addEventListener('submit', function(event) {
        event.preventDefault();

        hideErrorMessage();

        const enteredUsername = usernameInput.value.trim();
        const enteredPassword = passwordInput.value.trim();

        if (enteredUsername === savedUsername && enteredPassword === savedPassword) {
            localStorage.setItem('logged_in_user', enteredUsername);
            window.location.href = "index3.html"; // Redirect to WELCOME page (index3.html)
        } else {
            showErrorMessage("Invalid login details!");
        }
    });

    // If already logged in, skip login page and go straight to welcome
    if (localStorage.getItem('logged_in_user')) {
        window.location.href = "index3.html";
    }
</script>

</body>
</html>
